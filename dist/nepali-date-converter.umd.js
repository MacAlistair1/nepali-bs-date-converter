!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).NepaliDateConverter=e()}(this,function(){"use strict";
/*!
   * BS Calendar Data
   * ----------------
   * This dataset and related logic are developed and maintained by Jeeven Lamichhane.
   * Provides the number of days in each month for BS (Bikram Sambat) years.
   * This dataset is used for converting between AD (Gregorian) and BS dates.
   *
   * Copyright © 2025 Jeeven Lamichhane
   */class t{static nepaliMonthsInEng(){return["Baisakh","Jestha","Ashar","Shrawan","Bhadra","Ashoj","Kartik","Mangsir","Poush","Magh","Falgun","Chaitra"]}static nepaliMonthsInNep(){return["बैशाख","जेठ","अषाढ","श्रावण","भाद्र","आश्विन","कार्तिक","मङ्सिर","पौष","माघ","फाल्गुन","चैत्र"]}static nepaliWeekDays(){return["आइतवार","सोमवार","मङ्गलवार","बुधवार","बिहिवार","शुक्रवार","शनिवार"]}static nepaliDigits(){return["०","१","२","३","४","५","६","७","८","९"]}static data(){return{1970:[30,32,31,32,31,30,30,30,29,30,29,31,365],1971:[31,31,32,31,32,30,30,29,30,29,30,30,365],1972:[31,31,32,32,31,29,31,29,30,30,29,31,366],1973:[31,32,31,32,30,30,30,29,30,29,30,30,365],1974:[31,31,32,31,31,30,30,29,30,30,29,31,365],1975:[31,31,32,32,31,30,30,29,30,29,30,30,365],1976:[31,32,31,32,31,30,30,30,29,29,30,31,366],1977:[30,32,31,32,31,31,29,30,30,29,29,31,365],1978:[31,31,32,31,31,31,30,29,30,29,30,30,365],1979:[31,31,32,32,31,30,30,29,30,29,30,30,365],1980:[31,32,31,32,31,30,30,30,29,29,30,31,366],1981:[31,31,31,32,31,31,29,30,30,29,29,31,365],1982:[31,31,32,31,31,31,30,29,30,29,30,30,365],1983:[31,31,32,32,31,30,30,29,30,29,30,30,365],1984:[31,32,31,32,31,30,30,30,29,29,30,31,366],1985:[31,31,31,32,31,31,29,30,30,29,30,30,365],1986:[31,31,32,31,31,31,30,29,30,29,30,30,365],1987:[31,32,31,32,31,30,30,29,30,29,30,30,365],1988:[31,32,31,32,31,30,30,30,29,29,30,31,366],1989:[31,31,31,32,31,31,30,29,30,29,30,30,365],1990:[31,31,32,31,31,31,30,29,30,29,30,30,365],1991:[31,32,31,32,31,30,30,30,29,29,30,30,365],1992:[31,32,31,32,31,30,30,30,29,30,29,31,366],1993:[31,31,31,32,31,31,30,29,30,29,30,30,365],1994:[31,31,32,31,31,31,30,29,30,29,30,30,365],1995:[31,32,31,32,31,30,30,30,29,29,30,30,365],1996:[31,32,31,32,31,30,30,30,29,30,29,31,366],1997:[31,31,32,31,31,31,30,29,30,29,30,30,365],1998:[31,31,32,31,32,30,30,29,30,29,30,30,365],1999:[31,32,31,32,31,30,30,30,29,29,30,31,366],2e3:[30,32,31,32,31,30,30,30,29,30,29,31,365],2001:[31,31,32,31,31,31,30,29,30,29,30,30,365],2002:[31,31,32,32,31,30,30,29,30,29,30,30,365],2003:[31,32,31,32,31,30,30,30,29,29,30,31,366],2004:[30,32,31,32,31,30,30,30,29,30,29,31,365],2005:[31,31,32,31,31,31,30,29,30,29,30,30,365],2006:[31,31,32,32,31,30,30,29,30,29,30,30,365],2007:[31,32,31,32,31,30,30,30,29,29,30,31,366],2008:[31,31,31,32,31,31,29,30,30,29,29,31,365],2009:[31,31,32,31,31,31,30,29,30,29,30,30,365],2010:[31,31,32,32,31,30,30,29,30,29,30,30,365],2011:[31,32,31,32,31,30,30,30,29,29,30,31,366],2012:[31,31,31,32,31,31,29,30,30,29,30,30,365],2013:[31,31,32,31,31,31,30,29,30,29,30,30,365],2014:[31,31,32,32,31,30,30,29,30,29,30,30,365],2015:[31,32,31,32,31,30,30,30,29,29,30,31,366],2016:[31,31,31,32,31,31,29,30,30,29,30,30,365],2017:[31,31,32,31,31,31,30,29,30,29,30,30,365],2018:[31,32,31,32,31,30,30,29,30,29,30,30,365],2019:[31,32,31,32,31,30,30,30,29,30,29,31,366],2020:[31,31,31,32,31,31,30,29,30,29,30,30,365],2021:[31,31,32,31,31,31,30,29,30,29,30,30,365],2022:[31,32,31,32,31,30,30,30,29,29,30,30,365],2023:[31,32,31,32,31,30,30,30,29,30,29,31,366],2024:[31,31,31,32,31,31,30,29,30,29,30,30,365],2025:[31,31,32,31,31,31,30,29,30,29,30,30,365],2026:[31,32,31,32,31,30,30,30,29,29,30,31,366],2027:[30,32,31,32,31,30,30,30,29,30,29,31,365],2028:[31,31,32,31,31,31,30,29,30,29,30,30,365],2029:[31,31,32,31,32,30,30,29,30,29,30,30,365],2030:[31,32,31,32,31,30,30,30,29,29,30,31,366],2031:[30,32,31,32,31,30,30,30,29,30,29,31,365],2032:[31,31,32,31,31,31,30,29,30,29,30,30,365],2033:[31,31,32,32,31,30,30,29,30,29,30,30,365],2034:[31,32,31,32,31,30,30,30,29,29,30,31,366],2035:[30,32,31,32,31,31,29,30,30,29,29,31,365],2036:[31,31,32,31,31,31,30,29,30,29,30,30,365],2037:[31,31,32,32,31,30,30,29,30,29,30,30,365],2038:[31,32,31,32,31,30,30,30,29,29,30,31,366],2039:[31,31,31,32,31,31,29,30,30,29,30,30,365],2040:[31,31,32,31,31,31,30,29,30,29,30,30,365],2041:[31,31,32,32,31,30,30,29,30,29,30,30,365],2042:[31,32,31,32,31,30,30,30,29,29,30,31,366],2043:[31,31,31,32,31,31,29,30,30,29,30,30,365],2044:[31,31,32,31,31,31,30,29,30,29,30,30,365],2045:[31,32,31,32,31,30,30,29,30,29,30,30,365],2046:[31,32,31,32,31,30,30,30,29,29,30,31,366],2047:[31,31,31,32,31,31,30,29,30,29,30,30,365],2048:[31,31,32,31,31,31,30,29,30,29,30,30,365],2049:[31,32,31,32,31,30,30,30,29,29,30,30,365],2050:[31,32,31,32,31,30,30,30,29,30,29,31,366],2051:[31,31,31,32,31,31,30,29,30,29,30,30,365],2052:[31,31,32,31,31,31,30,29,30,29,30,30,365],2053:[31,32,31,32,31,30,30,30,29,29,30,30,365],2054:[31,32,31,32,31,30,30,30,29,30,29,31,366],2055:[31,31,32,31,31,31,30,29,30,29,30,30,365],2056:[31,31,32,31,32,30,30,29,30,29,30,30,365],2057:[31,32,31,32,31,30,30,30,29,29,30,31,366],2058:[30,32,31,32,31,30,30,30,29,30,29,31,365],2059:[31,31,32,31,31,31,30,29,30,29,30,30,365],2060:[31,31,32,32,31,30,30,29,30,29,30,30,365],2061:[31,32,31,32,31,30,30,30,29,29,30,31,366],2062:[31,31,31,32,31,31,29,30,29,30,29,31,365],2063:[31,31,32,31,31,31,30,29,30,29,30,30,365],2064:[31,31,32,32,31,30,30,29,30,29,30,30,365],2065:[31,32,31,32,31,30,30,30,29,29,30,31,366],2066:[31,31,31,32,31,31,29,30,30,29,29,31,365],2067:[31,31,32,31,31,31,30,29,30,29,30,30,365],2068:[31,31,32,32,31,30,30,29,30,29,30,30,365],2069:[31,32,31,32,31,30,30,30,29,29,30,31,366],2070:[31,31,31,32,31,31,29,30,30,29,30,30,365],2071:[31,31,32,31,31,31,30,29,30,29,30,30,365],2072:[31,32,31,32,31,30,30,29,30,29,30,30,365],2073:[31,32,31,32,31,30,30,30,29,29,30,31,366],2074:[31,31,31,32,31,31,30,29,30,29,30,30,365],2075:[31,31,32,31,31,31,30,29,30,29,30,30,365],2076:[31,32,31,32,31,30,30,30,29,29,30,30,365],2077:[31,32,31,32,31,30,30,30,29,30,29,31,366],2078:[31,31,31,32,31,31,30,29,30,29,30,30,365],2079:[31,31,32,31,31,31,30,29,30,29,30,30,365],2080:[31,32,31,32,31,30,30,30,29,29,30,30,365],2081:[31,32,31,32,31,30,30,30,29,30,29,31,366],2082:[31,31,31,32,31,31,30,29,30,29,30,30,365],2083:[31,31,32,31,31,31,30,29,30,29,30,30,365],2084:[31,32,31,32,31,30,30,30,29,29,30,31,366],2085:[30,32,31,32,31,30,30,30,29,30,29,31,365],2086:[31,31,32,31,31,31,30,29,30,29,30,30,365],2087:[31,31,32,32,31,30,30,29,30,29,30,30,365],2088:[31,32,31,32,31,30,30,30,29,29,30,31,366],2089:[30,32,31,32,31,30,30,30,29,30,29,31,365],2090:[31,31,32,31,31,31,30,29,30,29,30,30,365],2091:[31,31,32,32,31,30,30,29,30,29,30,30,365],2092:[31,32,31,32,31,30,30,30,29,29,30,31,366],2093:[31,31,31,32,31,31,29,30,30,29,29,31,365],2094:[31,31,32,31,31,31,30,29,30,29,30,30,365],2095:[31,31,32,32,31,30,30,29,30,29,30,30,365],2096:[31,32,31,32,31,30,30,30,29,29,30,31,366],2097:[31,31,31,32,31,31,29,30,30,29,30,30,365],2098:[31,31,32,31,31,31,30,29,30,29,30,30,365],2099:[31,31,32,32,31,30,30,29,30,29,30,30,365]}}static getYear(t){return this.data()[t]??null}}class e{static bsData=t.data();static refBS={year:2062,month:1,day:1};static refAD=new Date("2005-04-14");static startYear=1970;constructor(t=1970){t<1970&&(t=1970),e.startYear=t}static normalize(t){const e=t.replace(/\D/g,"");if(8===e.length)return`${e.slice(0,4)}-${e.slice(4,6)}-${e.slice(6,8)}`;if(7===e.length){const t=e.slice(0,4),a=e.slice(4);let i,s;return parseInt(a[0])>1?(i="0"+a[0],s=a.slice(1)):(i=a.slice(0,2),s="0"+a.slice(2)),`${t}-${i}-${s}`}throw new Error(`Invalid date format: ${t}`)}static pad(t){return t.toString().padStart(2,"0")}static totalDaysSince1970(t,a,i){let s=0;for(let a=e.startYear;a<t;a++){if(!this.bsData[a])throw new Error(`BS year missing: ${a}`);s+=this.bsData[a][12]}for(let e=1;e<a;e++)s+=this.bsData[t][e-1];return s+(i-1)}static bsToAd(t){const e=this.normalize(t);let[a,i,s]=e.split("-").map(Number);if(!this.bsData[a])throw new Error("BS year out of range");const r=this.totalDaysSince1970(this.refBS.year,this.refBS.month,this.refBS.day),n=this.totalDaysSince1970(a,i,s)-r,o=new Date(this.refAD);return o.setDate(o.getDate()+n),o.toISOString().split("T")[0]}static adToBs(t,e=!1){const a=this.normalize(t);let[i,s,r]=a.split("-").map(Number);const n=new Date(`${i}-${s}-${r}`);this.totalDaysSince1970(this.refBS.year,this.refBS.month,this.refBS.day);const o=Math.floor(this.refAD.getTime()/864e5);let l=Math.floor(n.getTime()/864e5)-o,c=this.refBS.year,h=this.refBS.month,d=this.refBS.day;for(;0!==l;){const t=this.bsData[c][h-1];l>0?(d++,d>t&&(d=1,h++,h>12&&(h=1,c++)),l--):(d--,d<1&&(h--,h<1&&(h=12,c--),d=this.bsData[c][h-1]),l++)}return`${c}-${this.pad(h)}-${this.pad(d)}`}static isValidBSDate(t){if(!/^\d{4}-\d{2}-\d{2}$/.test(t))return!1;const[e,a,i]=t.split("-").map(Number);if(!this.bsData[e])return!1;if(a<1||a>12)return!1;if(i<1||i>this.bsData[e][a-1])return!1;try{return this.adToBs(this.bsToAd(t))===t}catch{return!1}}static isValidADDate(t){if(!/^\d{4}-\d{2}-\d{2}$/.test(t))return!1;const[e,a,i]=t.split("-").map(Number);if(a<1||a>12)return!1;if(new Date(`${e}-${a}-${i}`).getDate()!==i)return!1;try{return this.bsToAd(this.adToBs(t))===t}catch{return!1}}static weekdayAD(e,a="en"){const i=this.normalize(e),s=new Date(i).getDay();return"np"===a?t.nepaliWeekDays()[s]:new Date(i).toLocaleString("en-US",{weekday:"long"})}static weekdayBS(t,e="en"){return this.weekdayAD(this.bsToAd(t),e)}static getBSInfo(t){if(!this.isValidBSDate(t))return{};const[e,a,i]=t.split("-").map(Number),s=this.bsToAd(t),r=this.bsData[e][12],n=this.totalDaysSince1970(e,a,i)-this.totalDaysSince1970(e,1,1)+1,o=new Date,l=this.adToBs(o.toISOString().split("T")[0]),c=this.totalDaysSince1970(e,a,i)-this.totalDaysSince1970(...l.split("-").map(Number));return{bs:t,ad:s,weekday:this.weekdayBS(t),total_days_in_year:r,day_of_year:n,diff_days_from_today:c}}static getADInfo(t){if(!this.isValidADDate(t))return{};const e=this.adToBs(t),[a,i,s]=e.split("-").map(Number),r=this.bsData[a][12],n=this.totalDaysSince1970(a,i,s)-this.totalDaysSince1970(a,1,1)+1,o=new Date,l=this.adToBs(o.toISOString().split("T")[0]),c=this.totalDaysSince1970(a,i,s)-this.totalDaysSince1970(...l.split("-").map(Number));return{ad:t,bs:e,weekday:this.weekdayAD(t),total_days_in_year:r,day_of_year:n,diff_days_from_today:c}}static formattedNepaliDate(e,a="Y-m-d",i="en"){if(e=this.normalize(e),!this.isValidBSDate(e))throw new Error(`Invalid BS date: ${e}`);let[s,r,n]=e.split("-").map(Number);if("en"===i)return a.replace("Y",String(s)).replace("m",this.pad(r)).replace("d",this.pad(n));const o=t.nepaliMonthsInNep(),l=t.nepaliWeekDays(),c=t.nepaliDigits(),h=this.bsToAd(e),d=new Date(h).getDay(),p=[...String(s).padStart(4,"0")].map(t=>c[t]).join(""),D=[...String(r).padStart(2,"0")].map(t=>c[t]).join(""),f=[...String(n).padStart(2,"0")].map(t=>c[t]).join(""),u=l[d];return a.replace("Y",p).replace("m",D).replace("d",f).replace("F",o[r-1]).replace("l",u)}static formattedEnglishDate(e,a="Y-m-d",i="en"){if(e=this.normalize(e),!this.isValidADDate(e))throw new Error(`Invalid AD date: ${e}`);if("en"===i){const[t,i,s]=e.split("-");return a.replace("Y",t).replace("m",i).replace("d",s).replace("F",new Date(e).toLocaleString("en-US",{month:"long"})).replace("l",new Date(e).toLocaleString("en-US",{weekday:"long"}))}const s=this.adToBs(e),[r,n,o]=s.split("-"),l=t.nepaliDigits(),c=t.nepaliMonthsInNep(),h=t.nepaliWeekDays(),d=new Date(e).getDay(),p=[...r].map(t=>l[t]).join(""),D=[...n].map(t=>l[t]).join(""),f=[...o].map(t=>l[t]).join(""),u=h[d];return a.replace("Y",p).replace("m",D).replace("d",f).replace("F",c[Number(n)-1]).replace("l",u)}}return e});
//# sourceMappingURL=nepali-date-converter.umd.js.map
