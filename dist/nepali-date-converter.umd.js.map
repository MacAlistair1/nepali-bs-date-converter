{"version":3,"file":"nepali-date-converter.umd.js","sources":["../src/BsCalendar.js","../src/index.js"],"sourcesContent":["/*!\n * BS Calendar Data\n * ----------------\n * This dataset and related logic are developed and maintained by Jeeven Lamichhane.\n * Provides the number of days in each month for BS (Bikram Sambat) years.\n * This dataset is used for converting between AD (Gregorian) and BS dates.\n *\n * Copyright © 2025 Jeeven Lamichhane\n */\nexport default class BsCalendar {\n  // -------------------------------\n  // Nepali months (English)\n  // -------------------------------\n  static nepaliMonthsInEng() {\n    return [\n      \"Baisakh\",\n      \"Jestha\",\n      \"Ashar\",\n      \"Shrawan\",\n      \"Bhadra\",\n      \"Ashoj\",\n      \"Kartik\",\n      \"Mangsir\",\n      \"Poush\",\n      \"Magh\",\n      \"Falgun\",\n      \"Chaitra\",\n    ];\n  }\n\n  // -------------------------------\n  // Nepali months (Nepali)\n  // -------------------------------\n  static nepaliMonthsInNep() {\n    return [\n      \"बैशाख\",\n      \"जेठ\",\n      \"अषाढ\",\n      \"श्रावण\",\n      \"भाद्र\",\n      \"आश्विन\",\n      \"कार्तिक\",\n      \"मङ्सिर\",\n      \"पौष\",\n      \"माघ\",\n      \"फाल्गुन\",\n      \"चैत्र\",\n    ];\n  }\n\n  // -------------------------------\n  // Nepali weekdays\n  // -------------------------------\n  static nepaliWeekDays() {\n    return [\n      \"आइतवार\",\n      \"सोमवार\",\n      \"मङ्गलवार\",\n      \"बुधवार\",\n      \"बिहिवार\",\n      \"शुक्रवार\",\n      \"शनिवार\",\n    ];\n  }\n\n  // -------------------------------\n  // Nepali digits 0–9\n  // -------------------------------\n  static nepaliDigits() {\n    return [\"०\", \"१\", \"२\", \"३\", \"४\", \"५\", \"६\", \"७\", \"८\", \"९\"];\n  }\n\n  // -------------------------------\n  // BS Calendar Data (YEAR → 12 month days + total)\n  // Example Structure:\n  // { 2070: [30, 32, ... , totalDays], ... }\n  // -------------------------------\n  static data() {\n    return {\n      1970: [30, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31, 365],\n      1971: [31, 31, 32, 31, 32, 30, 30, 29, 30, 29, 30, 30, 365],\n      1972: [31, 31, 32, 32, 31, 29, 31, 29, 30, 30, 29, 31, 366],\n      1973: [31, 32, 31, 32, 30, 30, 30, 29, 30, 29, 30, 30, 365],\n      1974: [31, 31, 32, 31, 31, 30, 30, 29, 30, 30, 29, 31, 365],\n      1975: [31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n      1976: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      1977: [30, 32, 31, 32, 31, 31, 29, 30, 30, 29, 29, 31, 365],\n      1978: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      1979: [31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n      1980: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      1981: [31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 29, 31, 365],\n      1982: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      1983: [31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n      1984: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      1985: [31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30, 365],\n      1986: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      1987: [31, 32, 31, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n      1988: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      1989: [31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      1990: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      1991: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30, 365],\n      1992: [31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31, 366],\n      1993: [31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      1994: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      1995: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30, 365],\n      1996: [31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31, 366],\n      1997: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      1998: [31, 31, 32, 31, 32, 30, 30, 29, 30, 29, 30, 30, 365],\n      1999: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      2000: [30, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31, 365],\n      2001: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2002: [31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n      2003: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      2004: [30, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31, 365],\n      2005: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2006: [31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n      2007: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      2008: [31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 29, 31, 365],\n      2009: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2010: [31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n      2011: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      2012: [31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30, 365],\n      2013: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2014: [31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n      2015: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      2016: [31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30, 365],\n      2017: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2018: [31, 32, 31, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n      2019: [31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31, 366],\n      2020: [31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2021: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2022: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30, 365],\n      2023: [31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31, 366],\n      2024: [31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2025: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2026: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      2027: [30, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31, 365],\n      2028: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2029: [31, 31, 32, 31, 32, 30, 30, 29, 30, 29, 30, 30, 365],\n      2030: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      2031: [30, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31, 365],\n      2032: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2033: [31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n      2034: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      2035: [30, 32, 31, 32, 31, 31, 29, 30, 30, 29, 29, 31, 365],\n      2036: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2037: [31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n      2038: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      2039: [31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30, 365],\n      2040: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2041: [31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n      2042: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      2043: [31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30, 365],\n      2044: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2045: [31, 32, 31, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n      2046: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      2047: [31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2048: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2049: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30, 365],\n      2050: [31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31, 366],\n      2051: [31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2052: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2053: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30, 365],\n      2054: [31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31, 366],\n      2055: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2056: [31, 31, 32, 31, 32, 30, 30, 29, 30, 29, 30, 30, 365],\n      2057: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      2058: [30, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31, 365],\n      2059: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2060: [31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n      2061: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      2062: [31, 31, 31, 32, 31, 31, 29, 30, 29, 30, 29, 31, 365],\n      2063: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2064: [31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n      2065: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      2066: [31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 29, 31, 365],\n      2067: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2068: [31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n      2069: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      2070: [31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30, 365],\n      2071: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2072: [31, 32, 31, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n      2073: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      2074: [31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2075: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2076: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30, 365],\n      2077: [31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31, 366],\n      2078: [31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2079: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2080: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30, 365],\n      2081: [31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31, 366],\n      2082: [31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2083: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2084: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      2085: [30, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31, 365],\n      2086: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2087: [31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n      2088: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      2089: [30, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31, 365],\n      2090: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2091: [31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n      2092: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      2093: [31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 29, 31, 365],\n      2094: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2095: [31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n      2096: [31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31, 366],\n      2097: [31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30, 365],\n      2098: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30, 365],\n      2099: [31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30, 365],\n    };\n  }\n\n  // -------------------------------\n  // Return year data\n  // -------------------------------\n  static getYear(year) {\n    const d = this.data();\n    return d[year] ?? null;\n  }\n}","import BsCalendar from \"./BsCalendar.js\";\n\n/**\n * JS version of Jeeven Lamichhane's Official Logic\n * AD <-> BS Conversion (Gregorian <-> Bikram Sambat)\n */\n\nexport default class NepaliDateConverter {\n  static bsData = BsCalendar.data();\n  static refBS = { year: 2062, month: 1, day: 1 };\n  static refAD = new Date(\"2005-04-14\");\n  static startYear = 1970;\n\n  constructor(startYear = 1970) {\n    if (startYear < 1970) startYear = 1970;\n    NepaliDateConverter.startYear = startYear;\n  }\n\n  // --------------------------\n  // Normalize input to YYYY-MM-DD\n  // --------------------------\n  static normalize(date) {\n    const digits = date.replace(/\\D/g, \"\");\n\n    if (digits.length === 8) {\n      return `${digits.slice(0, 4)}-${digits.slice(4, 6)}-${digits.slice(\n        6,\n        8\n      )}`;\n    }\n\n    if (digits.length === 7) {\n      const year = digits.slice(0, 4);\n      const rest = digits.slice(4);\n\n      let month, day;\n\n      if (parseInt(rest[0]) > 1) {\n        // M-D format\n        month = \"0\" + rest[0];\n        day = rest.slice(1);\n      } else {\n        // MM-D format\n        month = rest.slice(0, 2);\n        day = \"0\" + rest.slice(2);\n      }\n\n      return `${year}-${month}-${day}`;\n    }\n\n    throw new Error(`Invalid date format: ${date}`);\n  }\n\n  static pad(n) {\n    return n.toString().padStart(2, \"0\");\n  }\n\n  // --------------------------\n  // Total days since Nepali start year\n  // --------------------------\n  static totalDaysSince1970(y, m, d) {\n    let days = 0;\n\n    for (let Y = NepaliDateConverter.startYear; Y < y; Y++) {\n      if (!this.bsData[Y]) throw new Error(`BS year missing: ${Y}`);\n      days += this.bsData[Y][12];\n    }\n\n    for (let M = 1; M < m; M++) {\n      days += this.bsData[y][M - 1];\n    }\n\n    return days + (d - 1);\n  }\n\n  // --------------------------\n  // BS → AD\n  // --------------------------\n  static bsToAd(bsDate) {\n    const norm = this.normalize(bsDate);\n    let [y, m, d] = norm.split(\"-\").map(Number);\n\n    if (!this.bsData[y]) throw new Error(\"BS year out of range\");\n\n    const refDays = this.totalDaysSince1970(\n      this.refBS.year,\n      this.refBS.month,\n      this.refBS.day\n    );\n\n    const targetDays = this.totalDaysSince1970(y, m, d);\n    const diff = targetDays - refDays;\n\n    const adDate = new Date(this.refAD);\n    adDate.setDate(adDate.getDate() + diff);\n\n    return adDate.toISOString().split(\"T\")[0];\n  }\n\n  // --------------------------\n  // AD → BS\n  // --------------------------\n  static adToBs(adDate, asObject = false) {\n    const norm = this.normalize(adDate);\n    let [y, m, d] = norm.split(\"-\").map(Number);\n    const adObj = new Date(`${y}-${m}-${d}`);\n\n    const refBSDays = this.totalDaysSince1970(\n      this.refBS.year,\n      this.refBS.month,\n      this.refBS.day\n    );\n\n    const refADDays = Math.floor(this.refAD.getTime() / 86400000);\n    const targetADDays = Math.floor(adObj.getTime() / 86400000);\n    let diff = targetADDays - refADDays;\n\n    let bsYear = this.refBS.year;\n    let bsMonth = this.refBS.month;\n    let bsDay = this.refBS.day;\n\n    while (diff !== 0) {\n      const monthDays = this.bsData[bsYear][bsMonth - 1];\n\n      if (diff > 0) {\n        bsDay++;\n        if (bsDay > monthDays) {\n          bsDay = 1;\n          bsMonth++;\n          if (bsMonth > 12) {\n            bsMonth = 1;\n            bsYear++;\n          }\n        }\n        diff--;\n      } else {\n        bsDay--;\n        if (bsDay < 1) {\n          bsMonth--;\n          if (bsMonth < 1) {\n            bsMonth = 12;\n            bsYear--;\n          }\n          bsDay = this.bsData[bsYear][bsMonth - 1];\n        }\n        diff++;\n      }\n    }\n\n    const result = `${bsYear}-${this.pad(bsMonth)}-${this.pad(bsDay)}`;\n\n    return result;\n  }\n\n  // --------------------------\n  // Validate BS\n  // --------------------------\n  static isValidBSDate(bsDate) {\n    if (!/^\\d{4}-\\d{2}-\\d{2}$/.test(bsDate)) return false;\n\n    const [y, m, d] = bsDate.split(\"-\").map(Number);\n    if (!this.bsData[y]) return false;\n    if (m < 1 || m > 12) return false;\n    if (d < 1 || d > this.bsData[y][m - 1]) return false;\n\n    try {\n      return this.adToBs(this.bsToAd(bsDate)) === bsDate;\n    } catch {\n      return false;\n    }\n  }\n\n  // --------------------------\n  // Validate AD\n  // --------------------------\n  static isValidADDate(adDate) {\n    if (!/^\\d{4}-\\d{2}-\\d{2}$/.test(adDate)) return false;\n\n    const [y, m, d] = adDate.split(\"-\").map(Number);\n\n    if (m < 1 || m > 12) return false;\n    const valid = new Date(`${y}-${m}-${d}`);\n    if (valid.getDate() !== d) return false;\n\n    try {\n      return this.bsToAd(this.adToBs(adDate)) === adDate;\n    } catch {\n      return false;\n    }\n  }\n\n  // --------------------------\n  // Weekday functions\n  // --------------------------\n  static weekdayAD(adDate, locale = \"en\") {\n    const norm = this.normalize(adDate);\n    const dayIndex = new Date(norm).getDay();\n\n    if (locale === \"np\") {\n      return BsCalendar.nepaliWeekDays()[dayIndex];\n    }\n\n    return new Date(norm).toLocaleString(\"en-US\", { weekday: \"long\" });\n  }\n\n  static weekdayBS(bsDate, locale = \"en\") {\n    return this.weekdayAD(this.bsToAd(bsDate), locale);\n  }\n\n  // --------------------------\n  // Full info: BS date details\n  // --------------------------\n  static getBSInfo(bsDate) {\n    if (!this.isValidBSDate(bsDate)) return {};\n\n    const [y, m, d] = bsDate.split(\"-\").map(Number);\n    const ad = this.bsToAd(bsDate);\n\n    const totalDaysYear = this.bsData[y][12];\n    const dayOfYear =\n      this.totalDaysSince1970(y, m, d) - this.totalDaysSince1970(y, 1, 1) + 1;\n\n    const today = new Date();\n    const todayBS = this.adToBs(today.toISOString().split(\"T\")[0]);\n\n    const diffDays =\n      this.totalDaysSince1970(y, m, d) -\n      this.totalDaysSince1970(...todayBS.split(\"-\").map(Number));\n\n    return {\n      bs: bsDate,\n      ad,\n      weekday: this.weekdayBS(bsDate),\n      total_days_in_year: totalDaysYear,\n      day_of_year: dayOfYear,\n      diff_days_from_today: diffDays,\n    };\n  }\n\n  // --------------------------\n  // Full info: AD date details\n  // --------------------------\n  static getADInfo(adDate) {\n    if (!this.isValidADDate(adDate)) return {};\n\n    const bs = this.adToBs(adDate);\n    const [y, m, d] = bs.split(\"-\").map(Number);\n\n    const totalDaysYear = this.bsData[y][12];\n    const dayOfYear =\n      this.totalDaysSince1970(y, m, d) - this.totalDaysSince1970(y, 1, 1) + 1;\n\n    const today = new Date();\n    const todayBS = this.adToBs(today.toISOString().split(\"T\")[0]);\n\n    const diffDays =\n      this.totalDaysSince1970(y, m, d) -\n      this.totalDaysSince1970(...todayBS.split(\"-\").map(Number));\n\n    return {\n      ad: adDate,\n      bs,\n      weekday: this.weekdayAD(adDate),\n      total_days_in_year: totalDaysYear,\n      day_of_year: dayOfYear,\n      diff_days_from_today: diffDays,\n    };\n  }\n\n  // --------------------------\n  // Formatted BS (Nepali or English)\n  // --------------------------\n  static formattedNepaliDate(bsDate, format = \"Y-m-d\", locale = \"en\") {\n    bsDate = this.normalize(bsDate);\n    if (!this.isValidBSDate(bsDate)) {\n      throw new Error(`Invalid BS date: ${bsDate}`);\n    }\n\n    let [y, m, d] = bsDate.split(\"-\").map(Number);\n\n    if (locale === \"en\") {\n      return format\n        .replace(\"Y\", String(y))\n        .replace(\"m\", this.pad(m))\n        .replace(\"d\", this.pad(d));\n    }\n\n    // Nepali locale\n    const monthsNep = BsCalendar.nepaliMonthsInNep();\n    const weekdaysNep = BsCalendar.nepaliWeekDays();\n    const digitsNep = BsCalendar.nepaliDigits();\n\n    const adDate = this.bsToAd(bsDate);\n    const weekdayIndex = new Date(adDate).getDay();\n\n    const yearNep = [...String(y).padStart(4, \"0\")]\n      .map((n) => digitsNep[n])\n      .join(\"\");\n    const monthNep = [...String(m).padStart(2, \"0\")]\n      .map((n) => digitsNep[n])\n      .join(\"\");\n    const dayNep = [...String(d).padStart(2, \"0\")]\n      .map((n) => digitsNep[n])\n      .join(\"\");\n    const weekdayNep = weekdaysNep[weekdayIndex];\n\n    return format\n      .replace(\"Y\", yearNep)\n      .replace(\"m\", monthNep)\n      .replace(\"d\", dayNep)\n      .replace(\"F\", monthsNep[m - 1])\n      .replace(\"l\", weekdayNep);\n  }\n\n  // --------------------------\n  // Formatted AD (English or Nepali)\n  // --------------------------\n  static formattedEnglishDate(adDate, format = \"Y-m-d\", locale = \"en\") {\n    adDate = this.normalize(adDate);\n    if (!this.isValidADDate(adDate)) {\n      throw new Error(`Invalid AD date: ${adDate}`);\n    }\n\n    if (locale === \"en\") {\n      const [y, m, d] = adDate.split(\"-\");\n      return format\n        .replace(\"Y\", y)\n        .replace(\"m\", m)\n        .replace(\"d\", d)\n        .replace(\n          \"F\",\n          new Date(adDate).toLocaleString(\"en-US\", { month: \"long\" })\n        )\n        .replace(\n          \"l\",\n          new Date(adDate).toLocaleString(\"en-US\", { weekday: \"long\" })\n        );\n    }\n\n    // Nepali locale → Convert AD to BS\n    const bsDate = this.adToBs(adDate);\n    const [y, m, d] = bsDate.split(\"-\");\n\n    const digitsNep = BsCalendar.nepaliDigits();\n    const monthsNep = BsCalendar.nepaliMonthsInNep();\n    const weekdaysNep = BsCalendar.nepaliWeekDays();\n\n    const weekdayIndex = new Date(adDate).getDay();\n\n    const yearNep = [...y].map((n) => digitsNep[n]).join(\"\");\n    const monthNepNum = [...m].map((n) => digitsNep[n]).join(\"\");\n    const dayNep = [...d].map((n) => digitsNep[n]).join(\"\");\n    const weekdayNep = weekdaysNep[weekdayIndex];\n\n    return format\n      .replace(\"Y\", yearNep)\n      .replace(\"m\", monthNepNum)\n      .replace(\"d\", dayNep)\n      .replace(\"F\", monthsNep[Number(m) - 1])\n      .replace(\"l\", weekdayNep);\n  }\n}\n"],"names":["BsCalendar","nepaliMonthsInEng","nepaliMonthsInNep","nepaliWeekDays","nepaliDigits","data","getYear","year","this","NepaliDateConverter","static","month","day","Date","constructor","startYear","normalize","date","digits","replace","length","slice","rest","parseInt","Error","pad","n","toString","padStart","totalDaysSince1970","y","m","d","days","Y","bsData","M","bsToAd","bsDate","norm","split","map","Number","refDays","refBS","diff","adDate","refAD","setDate","getDate","toISOString","adToBs","asObject","adObj","refADDays","Math","floor","getTime","bsYear","bsMonth","bsDay","monthDays","isValidBSDate","test","isValidADDate","weekdayAD","locale","dayIndex","getDay","toLocaleString","weekday","weekdayBS","getBSInfo","ad","totalDaysYear","dayOfYear","today","todayBS","diffDays","bs","total_days_in_year","day_of_year","diff_days_from_today","getADInfo","formattedNepaliDate","format","String","monthsNep","weekdaysNep","digitsNep","weekdayIndex","yearNep","join","monthNep","dayNep","weekdayNep","formattedEnglishDate","monthNepNum"],"mappings":";;;;;;;;;KASe,MAAMA,EAInB,wBAAOC,GACL,MAAO,CACL,UACA,SACA,QACA,UACA,SACA,QACA,SACA,UACA,QACA,OACA,SACA,UAEH,CAKD,wBAAOC,GACL,MAAO,CACL,QACA,MACA,OACA,SACA,QACA,SACA,UACA,SACA,MACA,MACA,UACA,QAEH,CAKD,qBAAOC,GACL,MAAO,CACL,SACA,SACA,WACA,SACA,UACA,WACA,SAEH,CAKD,mBAAOC,GACL,MAAO,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtD,CAOD,WAAOC,GACL,MAAO,CACL,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,IAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAA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"}